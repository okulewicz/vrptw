\hypertarget{_rest_client_manager_8cs_source}{}\doxysection{Rest\+Client\+Manager.\+cs}
\label{_rest_client_manager_8cs_source}\index{RestClientManager.cs@{RestClientManager.cs}}
\mbox{\hyperlink{_rest_client_manager_8cs}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00001}00001 \textcolor{keyword}{using} \mbox{\hyperlink{namespace_api_utils}{ApiUtils}}.\mbox{\hyperlink{namespace_api_utils_1_1_model}{Model}};}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00002}00002 \textcolor{keyword}{using} System;}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00003}00003 \textcolor{keyword}{using} System.Net.Http;}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00004}00004 \textcolor{keyword}{using} System.Threading.Tasks;}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00005}00005 }
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00006}00006 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_api_utils_1_1_api}{ApiUtils.Api}}}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00007}00007 \{}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00008}\mbox{\hyperlink{class_api_utils_1_1_api_1_1_rest_client_manager}{00008}}     \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{class_api_utils_1_1_api_1_1_rest_client_manager}{RestClientManager}} : \mbox{\hyperlink{interface_api_utils_1_1_api_1_1_i_rest_client_manager}{IRestClientManager}}}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00009}00009     \{}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00010}\mbox{\hyperlink{class_api_utils_1_1_api_1_1_rest_client_manager_a2e13a567deaaa67fd9ac327a1cc41bd1}{00010}}         \textcolor{keyword}{public} \textcolor{keywordtype}{string} \mbox{\hyperlink{class_api_utils_1_1_api_1_1_rest_client_manager_a2e13a567deaaa67fd9ac327a1cc41bd1}{SendPost}}(\mbox{\hyperlink{class_api_utils_1_1_model_1_1_api_config}{ApiConfig}} apiConfig, HttpContent httpContent)}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00011}00011         \{}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00012}00012             \textcolor{keyword}{using} HttpClient client = \textcolor{keyword}{new}();}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00013}00013             Task<HttpResponseMessage> response = client.PostAsync(apiConfig.GetUrl(), httpContent);}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00014}00014             response.Wait();}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00015}00015 }
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00016}00016             \textcolor{keywordflow}{if} (response.Result.StatusCode != System.Net.HttpStatusCode.OK)}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00017}00017             \{}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00018}00018                 \textcolor{keywordflow}{throw} \textcolor{keyword}{new} Exception(\$\textcolor{stringliteral}{"{}Status code: \{response.Result.StatusCode\} "{}} +}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00019}00019                     \$\textcolor{stringliteral}{"{}\{Environment.NewLine\} Content: \{response.Result.Content\}"{}});}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00020}00020             \}}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00021}00021 }
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00022}00022             \textcolor{keywordflow}{return} response.Result.Content.ReadAsStringAsync().Result;}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00023}00023         \}}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00024}00024 }
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00025}\mbox{\hyperlink{class_api_utils_1_1_api_1_1_rest_client_manager_aacc4f0556a1ffb77db1eaf19e7323c95}{00025}}         \textcolor{keyword}{public} async Task<string> \mbox{\hyperlink{class_api_utils_1_1_api_1_1_rest_client_manager_aacc4f0556a1ffb77db1eaf19e7323c95}{SendPostAsync}}(\mbox{\hyperlink{class_api_utils_1_1_model_1_1_api_config}{ApiConfig}} apiConfig, HttpContent httpContent)}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00026}00026         \{}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00027}00027             \textcolor{keyword}{using} HttpClient client = \textcolor{keyword}{new}();}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00028}00028             HttpResponseMessage response = await client.PostAsync(apiConfig.GetUrl(), httpContent);}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00029}00029 }
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00030}00030             \textcolor{keywordflow}{if} (response.StatusCode != System.Net.HttpStatusCode.OK)}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00031}00031             \{}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00032}00032                 \textcolor{keywordflow}{throw} \textcolor{keyword}{new} Exception(\$\textcolor{stringliteral}{"{}Status code: \{response.StatusCode\} "{}} +}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00033}00033                     \$\textcolor{stringliteral}{"{}\{Environment.NewLine\} Content: \{response.Content\}"{}});}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00034}00034             \}}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00035}00035 }
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00036}00036             \textcolor{keywordflow}{return} response.Content.ReadAsStringAsync().Result;}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00037}00037         \}}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00038}00038     \}}
\DoxyCodeLine{\Hypertarget{_rest_client_manager_8cs_source_l00039}00039 \}}

\end{DoxyCode}
