\hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source}{}\doxysection{ALNSVRPTWOptimizer.\+cs}
\label{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source}\index{ALNSVRPTWOptimizer.cs@{ALNSVRPTWOptimizer.cs}}
\mbox{\hyperlink{_a_l_n_s_v_r_p_t_w_optimizer_8cs}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00001}00001 \textcolor{keyword}{using} \mbox{\hyperlink{namespace_common_g_i_s}{CommonGIS}}.\mbox{\hyperlink{namespace_common_g_i_s_1_1_interfaces}{Interfaces}};}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00002}00002 \textcolor{keyword}{using} System;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00003}00003 \textcolor{keyword}{using} System.Collections.Generic;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00004}00004 \textcolor{keyword}{using} System.Linq;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00005}00005 \textcolor{keyword}{using} System.Text;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00006}00006 \textcolor{keyword}{using} System.Threading.Tasks;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00007}00007 \textcolor{keyword}{using} \mbox{\hyperlink{namespace_v_r_p_t_w_optimizer}{VRPTWOptimizer}};}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00008}00008 \textcolor{keyword}{using} \mbox{\hyperlink{namespace_v_r_p_t_w_optimizer}{VRPTWOptimizer}}.\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_interfaces}{Interfaces}};}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00009}00009 \textcolor{keyword}{using} \mbox{\hyperlink{namespace_v_r_p_t_w_optimizer}{VRPTWOptimizer}}.\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_utils}{Utils}}.\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition}{VrpDefinition}};}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00010}00010 \textcolor{keyword}{using} \textcolor{keyword}{static} \mbox{\hyperlink{namespace_v_r_p_t_w_optimizer}{VRPTWOptimizer}}.\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_b_l}{BL}}.\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s}{ALNS}}.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s_1_1_a_l_n_s_get_data}{ALNSGetData}};}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00011}00011 \textcolor{keyword}{using} \textcolor{keyword}{static} \mbox{\hyperlink{namespace_v_r_p_t_w_optimizer}{VRPTWOptimizer}}.\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_b_l}{BL}}.\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s}{ALNS}}.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s_1_1_a_l_n_s_node}{ALNSNode}};}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00012}00012 \textcolor{keyword}{using} \textcolor{keyword}{static} \mbox{\hyperlink{namespace_v_r_p_t_w_optimizer}{VRPTWOptimizer}}.\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_b_l}{BL}}.\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s}{ALNS}}.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s_1_1_a_l_n_s_vehicle}{ALNSVehicle}};}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00013}00013 \textcolor{keyword}{using} \textcolor{keyword}{static} \mbox{\hyperlink{namespace_v_r_p_t_w_optimizer}{VRPTWOptimizer}}.\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_b_l}{BL}}.\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s}{ALNS}}.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s_1_1_a_l_n_s_route}{ALNSRoute}};}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00014}00014 \textcolor{keyword}{using} \textcolor{keyword}{static} \mbox{\hyperlink{namespace_v_r_p_t_w_optimizer}{VRPTWOptimizer}}.\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_b_l}{BL}}.\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s}{ALNS}}.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s_1_1_a_l_n_s_solution}{ALNSSolution}};}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00015}00015 \textcolor{keyword}{using} \textcolor{keyword}{static} \mbox{\hyperlink{namespace_v_r_p_t_w_optimizer}{VRPTWOptimizer}}.\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_b_l}{BL}}.\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s}{ALNS}}.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s_1_1_a_l_n_s_heuristics}{ALNSHeuristics}};}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00016}00016 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00017}00017 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s}{VRPTWOptimizer.BL.ALNS}}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00018}00018 \{}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00019}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s_1_1_a_l_n_s_v_r_p_t_w_optimizer}{00019}}     \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s_1_1_a_l_n_s_v_r_p_t_w_optimizer}{ALNSVRPTWOptimizer}} : \mbox{\hyperlink{interface_v_r_p_t_w_optimizer_1_1_interfaces_1_1_i_v_r_p_optimizer}{IVRPOptimizer}}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00020}00020     \{}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00021}00021         \textcolor{keyword}{internal} \mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s_a8809d8af34afa7076c73eb5ab5256f72}{HeuristicType}} heuristicType;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00022}00022         \textcolor{keyword}{internal} \textcolor{keywordtype}{int} maxIterations;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00023}00023         \textcolor{keyword}{internal} \textcolor{keywordtype}{double} timeToSpend;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00024}00024 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00025}00025         \textcolor{keyword}{internal} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s_1_1_a_l_n_s_v_r_p_t_w_optimizer}{ALNSVRPTWOptimizer}}(\textcolor{keywordtype}{int} iterations, \textcolor{keywordtype}{double} time, \mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s_a8809d8af34afa7076c73eb5ab5256f72}{HeuristicType}} heuristicType)}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00026}00026         \{}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00027}00027             this.maxIterations = iterations;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00028}00028             this.timeToSpend = time;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00029}00029             this.heuristicType = heuristicType;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00030}00030         \}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00031}00031 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00032}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s_1_1_a_l_n_s_v_r_p_t_w_optimizer_a21620e731eae88608a2f7f4345498708}{00032}}         \textcolor{keyword}{public} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_v_r_p_optimizer_result}{VRPOptimizerResult}} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s_1_1_a_l_n_s_v_r_p_t_w_optimizer_a21620e731eae88608a2f7f4345498708}{Optimize}}(\mbox{\hyperlink{interface_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_i_v_r_p_j_s_o_n_provider}{IVRPJSONProvider}} vrpProvider, \mbox{\hyperlink{interface_v_r_p_t_w_optimizer_1_1_interfaces_1_1_i_time_estimator}{ITimeEstimator}} timeEstimator, \mbox{\hyperlink{interface_common_g_i_s_1_1_interfaces_1_1_i_distance_provider}{IDistanceProvider}} distanceProvider, \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_v_r_p_cost_function}{VRPCostFunction}} vrpCostFunction)}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00033}00033         \{}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00034}00034             \textcolor{keywordtype}{string} DepotId = vrpProvider.\mbox{\hyperlink{interface_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_i_v_r_p_j_s_o_n_provider_af216d81045d08b2a39a264f24d089355}{DepotId}};}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00035}00035 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00036}00036             Dictionary<(string, string), \textcolor{keywordtype}{double}[]> LT = CreateLengthTimeDictionary(vrpProvider);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00037}00037 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00038}00038             List<ALNSNode> DeliveryNodes = CreateDeliveryNodes(vrpProvider);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00039}00039             \textcolor{keywordflow}{foreach} (ALNSNode node \textcolor{keywordflow}{in} DeliveryNodes)}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00040}00040             \{}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00041}00041                 node.ServiceTime = timeEstimator.EstimateLoadUnloadTime(node.PackageCount, 0, node.PackageCountForImediateRetrieval, 1);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00042}00042             \}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00043}00043             List<ALNSNode> SortedDeliveryNodes = DeliveryNodes.OrderByDescending(d => d.Demand[0]).ToList();}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00044}00044 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00045}00045             \textcolor{keywordtype}{int} NumberOfRequests = DeliveryNodes.Count;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00046}00046 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00047}00047             List<ALNSVehicle> Vehicles = CreateFleet(vrpProvider);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00048}00048             List<ALNSVehicle> SortedVehicles = Vehicles.OrderByDescending(o => o.Capacity[0]).ToList();}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00049}00049 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00050}00050             \textcolor{comment}{// nodes and vehicles available for them}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00051}00051             Dictionary<string, List<ALNSVehicle>> VehiclesForNodes = FindMultipleNodesVehicles(DeliveryNodes, Vehicles);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00052}00052 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00053}00053             var watch = System.Diagnostics.Stopwatch.StartNew();}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00054}00054 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00055}00055             ALNSSolution InitialSolution = NearestNeighbor(SortedDeliveryNodes, SortedVehicles, DepotId, timeEstimator, LT);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00056}00056 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00057}00057             watch.Stop();}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00058}00058             var elapsedMs = watch.ElapsedMilliseconds;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00059}00059             Console.WriteLine(\$\textcolor{stringliteral}{"{}Execution time: \{elapsedMs\}"{}});}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00060}00060 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00061}00061             \textcolor{keywordtype}{double} InitSolCost = SolutionCost(InitialSolution, LT, vrpCostFunction);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00062}00062             Console.WriteLine(\$\textcolor{stringliteral}{"{}<<< INITIAL SOLUTION >>> COST \{InitSolCost\}"{}});}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00063}00063             (double, double, double, double, string, TimeSpan) BreakInitSol = BreakSolutionCost(InitialSolution, LT);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00064}00064             Console.WriteLine(\$\textcolor{stringliteral}{"{} Distance \{BreakInitSol.Item1\} :: "{}} +}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00065}00065                             \$\textcolor{stringliteral}{"{}Trips \{BreakInitSol.Item2\} :: "{}} +}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00066}00066                             \$\textcolor{stringliteral}{"{}Requests \{BreakInitSol.Item3\} :: "{}} +}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00067}00067                             \$\textcolor{stringliteral}{"{}Double Penalty \{BreakInitSol.Item4\} :: "{}} +}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00068}00068                             \$\textcolor{stringliteral}{"{}String Penalty \{BreakInitSol.Item5\} :: "{}} +}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00069}00069                             \$\textcolor{stringliteral}{"{}TimeSpanPenalty :: \{BreakInitSol.Item6\}"{}});}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00070}00070             CalculateAndLogSolutionInfo(InitialSolution, LT);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00071}00071             LogTripsInfoToConsole(InitialSolution.Trips);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00072}00072 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00073}00073             \textcolor{comment}{/*}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00074}00074 \textcolor{comment}{               ALNS Metaheuristic}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00075}00075 \textcolor{comment}{            */}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00076}00076 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00077}00077             \textcolor{keywordtype}{int} countIt = 0;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00078}00078             \textcolor{comment}{//int segment = 0; //Adaptiveness}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00079}00079 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00080}00080             ALNSSolution IncumbentSolution = MakeSolutionDeepCopy(InitialSolution);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00081}00081             ALNSSolution BestSolution = MakeSolutionDeepCopy(InitialSolution);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00082}00082             ALNSSolution CurrentSolution = MakeSolutionDeepCopy(InitialSolution);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00083}00083 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00084}00084             \textcolor{keywordtype}{double} BestSolCost = SolutionCost(InitialSolution, LT, vrpCostFunction);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00085}00085             \textcolor{keywordtype}{double} IncumbSolCost = 0.0;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00086}00086             \textcolor{keywordtype}{double} CurrSolCost = BestSolCost;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00087}00087 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00088}00088             \textcolor{keywordtype}{int} Mu = 0;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00089}00089             Random rand = \textcolor{keyword}{new} Random();}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00090}00090 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00091}00091             var timeTotal = 0.0;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00092}00092 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00093}00093             (double, double, double, double, string, TimeSpan) BreakSol = (0.0, 0.0, 0.0, 0.0, \textcolor{stringliteral}{"{}"{}}, \textcolor{keyword}{new}());}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00094}00094 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00096}00096             \textcolor{comment}{//int NumberOfInsertHeuristics = 4;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00097}00097             \textcolor{comment}{//int SelectedInsertHeuristic = -\/1;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00098}00098 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00100}00100             \textcolor{comment}{//List<double[]> InsertionHeuristicsWeights = new List<double[]>();}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00101}00101             \textcolor{comment}{//double[] InitWeights = new double[NumberOfInsertHeuristics];}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00102}00102             \textcolor{comment}{//InsertionHeuristicsWeights.Add(InitWeights);}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00104}00104 \textcolor{comment}{}            \textcolor{comment}{//List<double[]> InsertionHeuristicsProbabilities = new List<double[]>();}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00105}00105             \textcolor{comment}{//double[] InitialProbabilities = \{ 0.2, 0.2, 0.2, 0.2 \};}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00106}00106             \textcolor{comment}{//InsertionHeuristicsProbabilities.Add(InitialProbabilities);}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00108}00108 \textcolor{comment}{}            \textcolor{comment}{//List<double[]> CumulativeInsertionsProbabilities = new List<double[]>();}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00109}00109             \textcolor{comment}{//double[] InitProbs = new double[NumberOfInsertHeuristics];}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00110}00110             \textcolor{comment}{//CumulativeInsertionsProbabilities.Add(InitProbs);}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00111}00111             \textcolor{comment}{//CumulativeInsertionsProbabilities[0][0] = InsertionHeuristicsProbabilities[0][0];}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00112}00112             \textcolor{comment}{//for (int i = 1; i < NumberOfInsertHeuristics; i++)}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00113}00113             \textcolor{comment}{//\{}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00114}00114             \textcolor{comment}{//    CumulativeInsertionsProbabilities[0][i] = CumulativeInsertionsProbabilities[0][i -\/ 1]}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00115}00115             \textcolor{comment}{//                                            + InsertionHeuristicsProbabilities[0][i];}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00116}00116             \textcolor{comment}{//\}}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00117}00117 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00119}00119             \textcolor{comment}{//double[] SegmentInsertionWeights = new double[NumberOfInsertHeuristics];}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00121}00121 \textcolor{comment}{}            \textcolor{comment}{//int[] InsertionNumberOfUsage = new int[NumberOfInsertHeuristics];}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00123}00123 \textcolor{comment}{}            \textcolor{comment}{//int Sig1 = 27;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00124}00124             \textcolor{comment}{//int Sig2 = 30;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00125}00125             \textcolor{comment}{//int Sig3 = 22;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00127}00127 \textcolor{comment}{}            \textcolor{comment}{//double r = 0.1;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00128}00128 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00129}00129             \textcolor{comment}{// simulated annealing acceptence criteria setup}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00130}00130             \textcolor{comment}{//ALNSSolution Solution0Bank = MakeSolutionDeepCopy(InitialSolution);}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00131}00131             \textcolor{comment}{//Solution0Bank.RequestBank = new List<ALNSNode>();}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00132}00132             \textcolor{comment}{//double Solution0BankCost = SolutionCost(Solution0Bank, LT);}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00133}00133             \textcolor{comment}{//double SolDiff = 0.05;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00134}00134             \textcolor{comment}{// Initial temperature is set s.t. a solution that is}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00135}00135             \textcolor{comment}{// SolDiff perecent worse than the current solution}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00136}00136             \textcolor{comment}{// is accepted with probability 0.5}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00137}00137             \textcolor{comment}{//double T\_start = SolDiff * Solution0BankCost / Math.Log(2);}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00138}00138             \textcolor{comment}{//double T = T\_start;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00139}00139             \textcolor{comment}{//double cool = 0.99975;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00141}00141 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00142}00142             \textcolor{comment}{// main loop}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00143}00143             \textcolor{keywordflow}{while} (maxIterations >= 0 \&\& timeToSpend > 0)}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00144}00144             \{}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00145}00145                 var watchH = System.Diagnostics.Stopwatch.StartNew();}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00146}00146 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00147}00147                 \textcolor{comment}{// Number of Nodes in neighborhood to be removed from a Route}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00148}00148                 \textcolor{comment}{// May take from 10\% to 40\% of the total number of delivery Nodes (requests)}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00149}00149                 Mu = rand.Next((\textcolor{keywordtype}{int})Math.Floor(0.1 * NumberOfRequests), (int)Math.Floor(0.4 * NumberOfRequests));}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00150}00150 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00151}00151                 Console.WriteLine(\$\textcolor{stringliteral}{"{}<<<< MU \{Mu\} >>>>"{}});}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00152}00152 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00153}00153                 ALNSSolution RemovalResult = ShawRemoval(CurrentSolution, Mu, LT, DepotId, VehiclesForNodes);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00154}00154                 RemovalResult = ShawRemovalPostProcess(RemovalResult, Vehicles, DepotId, LT, timeEstimator);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00155}00155 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00157}00157                 \textcolor{comment}{//if (maxIterations \% 100 == 0)}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00158}00158                 \textcolor{comment}{//\{}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00159}00159                 \textcolor{comment}{//    Console.WriteLine(\$"{}<<< REMOVAL SOLUTION \{countIt\}>>>"{});}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00160}00160                 \textcolor{comment}{//    CalculateAndLogSolutionInfo(RemovalResult, LT);}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00161}00161                 \textcolor{comment}{//    LogTripsInfoToConsole(RemovalResult.Trips);}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00162}00162                 \textcolor{comment}{//    LogTripsTimesToConsole(RemovalResult.Trips);}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00163}00163                 \textcolor{comment}{//\}}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00164}00164 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00166}00166 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00167}00167                 \textcolor{comment}{//update heuristics weights}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00168}00168                 \textcolor{comment}{//if (countIt == 250)}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00169}00169                 \textcolor{comment}{//\{}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00170}00170                 \textcolor{comment}{//    //update weights}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00171}00171                 \textcolor{comment}{//    double[] InsertHeuWeights = new double[NumberOfInsertHeuristics];}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00172}00172                 \textcolor{comment}{//    for (int i = 0; i < NumberOfInsertHeuristics; i++)}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00173}00173                 \textcolor{comment}{//    \{}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00174}00174                 \textcolor{comment}{//        if (InsertionNumberOfUsage[i] != 0)}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00175}00175                 \textcolor{comment}{//        \{}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00176}00176                 \textcolor{comment}{//            InsertHeuWeights[i] = InsertionHeuristicsWeights[segment][i] * (1 -\/ r)}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00177}00177                 \textcolor{comment}{//            + r * SegmentInsertionWeights[i] / InsertionNumberOfUsage[i];}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00178}00178                 \textcolor{comment}{//        \}}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00179}00179                 \textcolor{comment}{//        else}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00180}00180                 \textcolor{comment}{//        \{}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00181}00181                 \textcolor{comment}{//            InsertHeuWeights[i] = InsertionHeuristicsWeights[segment][i] * (1 -\/ r) + r * 1;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00182}00182                 \textcolor{comment}{//        \}}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00183}00183 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00184}00184                 \textcolor{comment}{//    \}}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00185}00185                 \textcolor{comment}{//    InsertionHeuristicsWeights.Add(InsertHeuWeights);}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00186}00186 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00187}00187                 \textcolor{comment}{//    double[] InsertHeuProbs = new double[NumberOfInsertHeuristics];}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00188}00188                 \textcolor{comment}{//    InsertionHeuristicsProbabilities.Add(InsertHeuProbs);}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00189}00189                 \textcolor{comment}{//    double wSum = InsertionHeuristicsWeights[segment + 1].Sum();}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00190}00190                 \textcolor{comment}{//    for (int i = 0; i < NumberOfInsertHeuristics; i++)}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00191}00191                 \textcolor{comment}{//    \{}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00192}00192                 \textcolor{comment}{//        InsertionHeuristicsProbabilities[segment + 1][i] = InsertionHeuristicsWeights[segment + 1][i] / wSum;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00193}00193                 \textcolor{comment}{//    \}}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00194}00194 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00195}00195                 \textcolor{comment}{//    double[] CumInsertProbs = new double[NumberOfInsertHeuristics];}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00196}00196                 \textcolor{comment}{//    CumulativeInsertionsProbabilities.Add(CumInsertProbs);}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00197}00197                 \textcolor{comment}{//    CumulativeInsertionsProbabilities[segment + 1][0] = InsertionHeuristicsProbabilities[segment + 1][0];}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00198}00198                 \textcolor{comment}{//    for (int i = 1; i < NumberOfInsertHeuristics; i++)}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00199}00199                 \textcolor{comment}{//    \{}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00200}00200                 \textcolor{comment}{//        CumulativeInsertionsProbabilities[segment + 1][i] = CumulativeInsertionsProbabilities[segment + 1][i -\/ 1]}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00201}00201                 \textcolor{comment}{//                                                      + InsertionHeuristicsProbabilities[segment + 1][i];}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00202}00202                 \textcolor{comment}{//    \}}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00203}00203 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00204}00204                 \textcolor{comment}{//    segment++;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00205}00205                 \textcolor{comment}{//    //InsertionHeuristicsWeights[segment] = new double[NumberOfHeuristics];}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00206}00206 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00207}00207                 \textcolor{comment}{//    SegmentInsertionWeights = new double[NumberOfInsertHeuristics];}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00208}00208                 \textcolor{comment}{//    InsertionNumberOfUsage = new int[NumberOfInsertHeuristics];}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00209}00209 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00210}00210                 \textcolor{comment}{//    countIt = 0;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00211}00211                 \textcolor{comment}{//\}}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00212}00212 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00214}00214                 \textcolor{comment}{//Random hrand = new Random();}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00215}00215                 \textcolor{comment}{//double heur\_prob = hrand.NextDouble();}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00216}00216 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00217}00217                 \textcolor{comment}{//if (heur\_prob > 0 \&\& heur\_prob <= CumulativeInsertionsProbabilities[segment][0])}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00218}00218                 \textcolor{comment}{//\{}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00219}00219                 \textcolor{comment}{//    Console.WriteLine("{}REGRET-\/2"{});}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00220}00220                 \textcolor{comment}{//    IncumbentSolution = RegretKHeuristic(RemovalResult, 2, LT, timeEstimator);}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00221}00221 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00222}00222                 \textcolor{comment}{//    SelectedInsertHeuristic = 0;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00223}00223                 \textcolor{comment}{//    InsertionNumberOfUsage[0]++;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00224}00224                 \textcolor{comment}{//\}}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00225}00225                 \textcolor{comment}{//else if (heur\_prob > CumulativeInsertionsProbabilities[segment][0] \&\& heur\_prob <= CumulativeInsertionsProbabilities[segment][1])}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00226}00226                 \textcolor{comment}{//\{}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00227}00227                 \textcolor{comment}{//    Console.WriteLine("{}REGRET-\/3"{});}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00228}00228                 \textcolor{comment}{//    IncumbentSolution = RegretKHeuristic(RemovalResult, 3, LT, timeEstimator);}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00229}00229 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00230}00230                 \textcolor{comment}{//    SelectedInsertHeuristic = 1;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00231}00231                 \textcolor{comment}{//    InsertionNumberOfUsage[1]++;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00232}00232                 \textcolor{comment}{//\}}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00233}00233                 \textcolor{comment}{//else if (heur\_prob > CumulativeInsertionsProbabilities[segment][1] \&\& heur\_prob <= CumulativeInsertionsProbabilities[segment][2])}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00234}00234                 \textcolor{comment}{//\{}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00235}00235                 \textcolor{comment}{//    Console.WriteLine("{}REGRET-\/4"{});}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00236}00236                 \textcolor{comment}{//    IncumbentSolution = RegretKHeuristic(RemovalResult, 4, LT, timeEstimator);}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00237}00237 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00238}00238                 \textcolor{comment}{//    SelectedInsertHeuristic = 2;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00239}00239                 \textcolor{comment}{//    InsertionNumberOfUsage[2]++;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00240}00240                 \textcolor{comment}{//\}}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00241}00241                 \textcolor{comment}{//else if (heur\_prob > CumulativeInsertionsProbabilities[segment][2] \&\& heur\_prob <= 1)}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00242}00242                 \textcolor{comment}{//\{}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00243}00243                 \textcolor{comment}{//    Console.WriteLine("{}REGRET-\/100"{});}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00244}00244                 \textcolor{comment}{//    IncumbentSolution = RegretKHeuristic(RemovalResult, 100, LT, timeEstimator);}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00245}00245 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00246}00246                 \textcolor{comment}{//    SelectedInsertHeuristic = 3;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00247}00247                 \textcolor{comment}{//    InsertionNumberOfUsage[3]++;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00248}00248                 \textcolor{comment}{//\}}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00250}00250 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00251}00251                 \textcolor{keywordflow}{if} (heuristicType.Equals(\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s_a8809d8af34afa7076c73eb5ab5256f72}{HeuristicType}}.Greedy))}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00252}00252                 \{}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00253}00253                     IncumbentSolution = GreedyInsertionHeuristic(RemovalResult, LT, timeEstimator, vrpCostFunction);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00254}00254                 \}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00255}00255                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (heuristicType.Equals(\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s_a8809d8af34afa7076c73eb5ab5256f72}{HeuristicType}}.Regret2))}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00256}00256                 \{}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00257}00257                     IncumbentSolution = RegretKHeuristic(RemovalResult, 2, LT, timeEstimator, vrpCostFunction);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00258}00258                 \}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00259}00259                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (heuristicType.Equals(\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s_a8809d8af34afa7076c73eb5ab5256f72}{HeuristicType}}.Regret3))}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00260}00260                 \{}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00261}00261                     IncumbentSolution = RegretKHeuristic(RemovalResult, 3, LT, timeEstimator, vrpCostFunction);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00262}00262                 \}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00263}00263                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (heuristicType.Equals(\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s_a8809d8af34afa7076c73eb5ab5256f72}{HeuristicType}}.Regret4))}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00264}00264                 \{}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00265}00265                     IncumbentSolution = RegretKHeuristic(RemovalResult, 4, LT, timeEstimator, vrpCostFunction);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00266}00266                 \}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00267}00267                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (heuristicType.Equals(\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s_a8809d8af34afa7076c73eb5ab5256f72}{HeuristicType}}.Regret100))}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00268}00268                 \{}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00269}00269                     IncumbentSolution = RegretKHeuristic(RemovalResult, 100, LT, timeEstimator, vrpCostFunction);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00270}00270                 \}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00271}00271 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00272}00272                 IncumbSolCost = SolutionCost(IncumbentSolution, LT, vrpCostFunction);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00273}00273 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00275}00275                 \textcolor{comment}{// acceptence criteria}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00276}00276                 \textcolor{comment}{//Random arand = new Random();}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00277}00277                 \textcolor{comment}{//double curr\_prob = arand.NextDouble();}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00278}00278 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00279}00279                 \textcolor{comment}{//double sol\_prob = Math.Pow(Math.E, -\/(IncumbSolCost -\/ CurrSolCost) / T);}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00280}00280                 \textcolor{comment}{//bool accepted = sol\_prob > curr\_prob \&\& IncumbentSolution.RequestBank.Count == 0;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00282}00282 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00283}00283                 \textcolor{keywordflow}{if} (IncumbSolCost <= BestSolCost)}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00284}00284                 \{}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00285}00285                     BestSolCost = IncumbSolCost;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00286}00286                     BestSolution = MakeSolutionDeepCopy(IncumbentSolution);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00287}00287 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00289}00289                     \textcolor{comment}{//    SegmentInsertionWeights[SelectedInsertHeuristic] += Sig1;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00290}00290                     \textcolor{comment}{//\}}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00291}00291                     \textcolor{comment}{//if (accepted)}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00292}00292                     \textcolor{comment}{//\{}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00293}00293                     \textcolor{comment}{//    if (IncumbSolCost < CurrSolCost \&\& IncumbSolCost > BestSolCost)}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00294}00294                     \textcolor{comment}{//    \{}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00295}00295                     \textcolor{comment}{//        SegmentInsertionWeights[SelectedInsertHeuristic] += Sig2;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00296}00296                     \textcolor{comment}{//    \}}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00297}00297                     \textcolor{comment}{//    if (IncumbSolCost >= CurrSolCost)}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00298}00298                     \textcolor{comment}{//    \{}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00299}00299                     \textcolor{comment}{//        SegmentInsertionWeights[SelectedInsertHeuristic] += Sig3;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00300}00300                     \textcolor{comment}{//    \}}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00302}00302 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00303}00303                     CurrentSolution = MakeSolutionDeepCopy(IncumbentSolution);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00304}00304                     CurrSolCost = IncumbSolCost;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00305}00305 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00306}00306                     Console.WriteLine(\$\textcolor{stringliteral}{"{}<<< SOLUTION UPDATED  COST \{IncumbSolCost\} >>>"{}});}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00307}00307                     BreakSol = BreakSolutionCost(CurrentSolution, LT);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00308}00308                     Console.WriteLine(\$\textcolor{stringliteral}{"{} Distance \{BreakSol.Item1\} :: "{}} +}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00309}00309                         \$\textcolor{stringliteral}{"{}Trips \{BreakSol.Item2\} :: "{}} +}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00310}00310                         \$\textcolor{stringliteral}{"{}Requests \{BreakSol.Item3\} :: "{}} +}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00311}00311                         \$\textcolor{stringliteral}{"{}Double Penalty \{BreakSol.Item4\} :: "{}} +}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00312}00312                         \$\textcolor{stringliteral}{"{}String Penalty \{BreakSol.Item5\} :: "{}} +}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00313}00313                         \$\textcolor{stringliteral}{"{}TimeSpanPenalty :: \{BreakSol.Item6\}"{}});}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00314}00314                     CalculateAndLogSolutionInfo(CurrentSolution, LT);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00315}00315                     LogTripsInfoToConsole(CurrentSolution.Trips);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00316}00316                     LogTripsTimesToConsole(IncumbentSolution.Trips);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00317}00317                 \}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00318}00318 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00319}00319                 maxIterations-\/-\/;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00320}00320                 countIt++;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00321}00321 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00323}00323                 \textcolor{comment}{//T *= cool;}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00325}00325 \textcolor{comment}{}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00326}00326                 Console.WriteLine(maxIterations);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00327}00327 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00328}00328                 var elapsedHMs = watchH.ElapsedMilliseconds;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00329}00329 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00330}00330                 timeToSpend -\/= elapsedHMs;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00331}00331                 timeTotal += elapsedHMs;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00332}00332 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00333}00333                 Console.WriteLine(\$\textcolor{stringliteral}{"{}<<< ITERATION TIME \{elapsedHMs\}"{}});}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00334}00334             \}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00335}00335 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00336}00336             Console.WriteLine(\$\textcolor{stringliteral}{"{}<<< BEST SOLUTION >>>"{}});}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00337}00337             BreakSol = BreakSolutionCost(BestSolution, LT);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00338}00338             Console.WriteLine(\$\textcolor{stringliteral}{"{} Distance \{BreakSol.Item1\} :: "{}} +}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00339}00339                 \$\textcolor{stringliteral}{"{}Trips \{BreakSol.Item2\} :: "{}} +}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00340}00340                 \$\textcolor{stringliteral}{"{}Requests \{BreakSol.Item3\} :: "{}} +}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00341}00341                 \$\textcolor{stringliteral}{"{}Double Penalty \{BreakSol.Item4\} :: "{}} +}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00342}00342                 \$\textcolor{stringliteral}{"{}String Penalty \{BreakSol.Item5\} :: "{}} +}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00343}00343                 \$\textcolor{stringliteral}{"{}TimeSpanPenalty :: \{BreakSol.Item6\}"{}});}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00344}00344             CalculateAndLogSolutionInfo(BestSolution, LT);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00345}00345             LogTripsInfoToConsole(BestSolution.Trips);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00346}00346             LogTripsTimesToConsole(BestSolution.Trips);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00347}00347             Console.WriteLine(\$\textcolor{stringliteral}{"{}<<< TIME ELAPSED \{timeTotal\}"{}});}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00348}00348 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00349}00349             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_v_r_p_optimizer_result}{VRPOptimizerResult}} result = \textcolor{keyword}{new} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_v_r_p_optimizer_result}{VRPOptimizerResult}}();}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00350}00350             result.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_v_r_p_optimizer_result_a23bc25eb77719323fda0fbb2ecd77517}{LeftRequests}} = \textcolor{keyword}{new} List<TransportRequest>();}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00351}00351 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00352}00352             \textcolor{keywordflow}{foreach} (ALNSNode node \textcolor{keywordflow}{in} BestSolution.RequestBank)}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00353}00353             \{}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00354}00354                 result.LeftRequests.Add(Node2Request(node, vrpProvider));}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00355}00355             \}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00356}00356 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00357}00357             result.Routes = \textcolor{keyword}{new} List<IRoute>();}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00358}00358             \textcolor{keywordflow}{foreach} (ALNSRoute route \textcolor{keywordflow}{in} BestSolution.Trips)}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00359}00359             \{}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00360}00360                 result.Routes.Add(ALNSRoute2Route(route, vrpProvider, distanceProvider));}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00361}00361             \}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00362}00362 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00363}00363             \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00364}00364         \}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00365}00365 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00366}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s_1_1_a_l_n_s_v_r_p_t_w_optimizer_ad9f31dc108442e00a1d2b418e170b196}{00366}}         \textcolor{keyword}{public} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_v_r_p_optimizer_result}{VRPOptimizerResult}} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s_1_1_a_l_n_s_v_r_p_t_w_optimizer_ad9f31dc108442e00a1d2b418e170b196}{Optimize}}(\mbox{\hyperlink{interface_v_r_p_t_w_optimizer_1_1_interfaces_1_1_i_v_r_p_provider}{IVRPProvider}} problemDataProvider, \mbox{\hyperlink{interface_v_r_p_t_w_optimizer_1_1_interfaces_1_1_i_time_estimator}{ITimeEstimator}} serviceTimeEstimator, \mbox{\hyperlink{interface_common_g_i_s_1_1_interfaces_1_1_i_distance_provider}{IDistanceProvider}} distanceProvider)}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00367}00367         \{}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00368}00368             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s_1_1_a_l_n_s_v_r_p_t_w_optimizer_a21620e731eae88608a2f7f4345498708}{Optimize}}((\mbox{\hyperlink{interface_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_i_v_r_p_j_s_o_n_provider}{IVRPJSONProvider}})problemDataProvider, serviceTimeEstimator, distanceProvider, \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_v_r_p_cost_function}{VRPCostFunction}}.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_v_r_p_cost_function_a79565414d578890a651795ea4404ed5c}{GetDefaultParametersFunction}}());}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00369}00369         \}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00370}00370 }
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00371}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s_1_1_a_l_n_s_v_r_p_t_w_optimizer_adfcc95cf82febfc186247b5198a2cffb}{00371}}         \textcolor{keyword}{public} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_v_r_p_optimizer_result}{VRPOptimizerResult}} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s_1_1_a_l_n_s_v_r_p_t_w_optimizer_adfcc95cf82febfc186247b5198a2cffb}{Optimize}}(\mbox{\hyperlink{interface_v_r_p_t_w_optimizer_1_1_interfaces_1_1_i_v_r_p_provider}{IVRPProvider}} problemDataProvider, \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_v_r_p_cost_function}{VRPCostFunction}} costFunctionFactors, \mbox{\hyperlink{interface_v_r_p_t_w_optimizer_1_1_interfaces_1_1_i_time_estimator}{ITimeEstimator}} serviceTimeEstimator, \mbox{\hyperlink{interface_common_g_i_s_1_1_interfaces_1_1_i_distance_provider}{IDistanceProvider}} distanceProvider)}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00372}00372         \{}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00373}00373             \textcolor{keywordflow}{return} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_b_l_1_1_a_l_n_s_1_1_a_l_n_s_v_r_p_t_w_optimizer_a21620e731eae88608a2f7f4345498708}{Optimize}}((\mbox{\hyperlink{interface_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_i_v_r_p_j_s_o_n_provider}{IVRPJSONProvider}})problemDataProvider, serviceTimeEstimator, distanceProvider, costFunctionFactors);}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00374}00374         \}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00375}00375     \}}
\DoxyCodeLine{\Hypertarget{_a_l_n_s_v_r_p_t_w_optimizer_8cs_source_l00376}00376 \}}

\end{DoxyCode}
