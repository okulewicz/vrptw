\hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source}{}\doxysection{VRPDefinition\+Via\+Tms\+DTOProvider.\+cs}
\label{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source}\index{VRPDefinitionViaTmsDTOProvider.cs@{VRPDefinitionViaTmsDTOProvider.cs}}
\mbox{\hyperlink{_v_r_p_definition_via_tms_d_t_o_provider_8cs}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00001}00001 \textcolor{keyword}{using} \mbox{\hyperlink{namespace_common_g_i_s}{CommonGIS}};}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00002}00002 \textcolor{keyword}{using} System;}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00003}00003 \textcolor{keyword}{using} System.Collections.Generic;}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00004}00004 \textcolor{keyword}{using} System.Linq;}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00005}00005 \textcolor{keyword}{using} \mbox{\hyperlink{namespace_v_r_p_t_w_optimizer}{VRPTWOptimizer}}.\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_interfaces}{Interfaces}};}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00006}00006 \textcolor{keyword}{using} \mbox{\hyperlink{namespace_v_r_p_t_w_optimizer}{VRPTWOptimizer}}.\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_utils}{Utils}}.\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_utils_1_1_model}{Model}};}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00007}00007 \textcolor{keyword}{using} \mbox{\hyperlink{namespace_v_r_p_t_w_optimizer}{VRPTWOptimizer}}.\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_utils}{Utils}}.\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_utils_1_1_time_estimators}{TimeEstimators}};}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00008}00008 \textcolor{keyword}{using} \textcolor{keyword}{static} \mbox{\hyperlink{namespace_v_r_p_t_w_optimizer}{VRPTWOptimizer}}.\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_utils}{Utils}}.\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_utils_1_1_model}{Model}}.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_via_tms_j_s_o_n_d_t_os}{ViaTmsJSONDTOs}};}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00009}00009 }
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00010}00010 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition}{VRPTWOptimizer.Utils.VrpDefinition}}}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00011}00011 \{}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00012}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider}{00012}}     \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider}{VRPDefinitionViaTmsDTOProvider}} : \mbox{\hyperlink{interface_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_i_v_r_p_j_s_o_n_provider}{IVRPJSONProvider}}}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00013}00013     \{}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00014}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_ae2310ee2b1199ef653a262fc6bec4bc3}{00014}}         \textcolor{keyword}{public} \textcolor{keywordtype}{string} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_ae2310ee2b1199ef653a262fc6bec4bc3}{Client}} \{ \textcolor{keyword}{get}; \}}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00015}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a613a4049550de1d867696758e82f5155}{00015}}         \textcolor{keyword}{public} \textcolor{keywordtype}{string} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a613a4049550de1d867696758e82f5155}{DepotId}} \{ \textcolor{keyword}{get}; \}}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00016}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a44ffdc3452ac36cbf169e29a4d4af6ac}{00016}}         \textcolor{keyword}{public} List<\mbox{\hyperlink{namespace_common_g_i_s}{CommonGIS}}.\mbox{\hyperlink{class_common_g_i_s_1_1_distance}{Distance}}> \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a44ffdc3452ac36cbf169e29a4d4af6ac}{Distances}} \{ \textcolor{keyword}{get}; \}}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00017}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a7f60b7fd2b44499b8fb2ec89a0d3d61d}{00017}}         \textcolor{keyword}{public} List<Driver> \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a7f60b7fd2b44499b8fb2ec89a0d3d61d}{Drivers}} \{ \textcolor{keyword}{get}; \}}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00018}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a770080330be94b27be0b1d27c47d146c}{00018}}         \textcolor{keyword}{public} \mbox{\hyperlink{namespace_common_g_i_s}{CommonGIS}}.\mbox{\hyperlink{class_common_g_i_s_1_1_location}{Location}} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a770080330be94b27be0b1d27c47d146c}{HomeDepot}} \{ \textcolor{keyword}{get}; \}}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00019}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_af9cdde33908967676a39ca6ff401f2f7}{00019}}         \textcolor{keyword}{public} Dictionary<string, \mbox{\hyperlink{namespace_common_g_i_s}{CommonGIS}}.\mbox{\hyperlink{class_common_g_i_s_1_1_location}{Location}}> \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_af9cdde33908967676a39ca6ff401f2f7}{LocationsDictionary}} \{ \textcolor{keyword}{get}; \}}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00020}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_ae70dffcbb4ad43092812661cd4566451}{00020}}         \textcolor{keyword}{public} DateTime \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_ae70dffcbb4ad43092812661cd4566451}{ProblemDate}} \{ \textcolor{keyword}{get}; \}}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00021}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a5734e74eaa81c54243c1055e05acb496}{00021}}         \textcolor{keyword}{public} List<\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer}{VRPTWOptimizer}}.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_transport_request}{TransportRequest}}> \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a5734e74eaa81c54243c1055e05acb496}{Requests}} \{ \textcolor{keyword}{get}; \}}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00022}00022 }
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00023}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a14a0451097269b5e21477adbe21b7ff8}{00023}}         \textcolor{keyword}{public} \mbox{\hyperlink{interface_v_r_p_t_w_optimizer_1_1_interfaces_1_1_i_time_estimator}{ITimeEstimator}} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_service_time_estimator}{ServiceTimeEstimator}} \{ \textcolor{keyword}{get}; \}}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00024}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a2a8a53479e18a3e75b272bdf0ec55ed1}{00024}}         \textcolor{keyword}{public} List<\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer}{VRPTWOptimizer}}.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_vehicle}{Vehicle}}> \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a2a8a53479e18a3e75b272bdf0ec55ed1}{Vehicles}} \{ \textcolor{keyword}{get}; \}}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00025}00025 }
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00026}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a1843564a93d70eda08da289202533ac8}{00026}}         \textcolor{keyword}{public} DateTime \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a1843564a93d70eda08da289202533ac8}{ZeroHour}} \{ \textcolor{keyword}{get}; \}}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00027}00027 }
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00028}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_af640f0e9d464e0ffd266ba4da2036c7a}{00028}}         \textcolor{keyword}{public} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_af640f0e9d464e0ffd266ba4da2036c7a}{VRPDefinitionViaTmsDTOProvider}}(VRPDefinitionViaTmsDTO definition)}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00029}00029         \{}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00030}00030             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_ae70dffcbb4ad43092812661cd4566451}{ProblemDate}} = definition.BillingDates[0];}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00031}00031             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a613a4049550de1d867696758e82f5155}{DepotId}} = definition.HomeDepots[0].Id;}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00032}00032             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_ae2310ee2b1199ef653a262fc6bec4bc3}{Client}} = definition.Client;}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00033}00033             \textcolor{keywordflow}{if} (definition.TimeEstimator != \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00034}00034             \{}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00035}00035                 \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_service_time_estimator}{ServiceTimeEstimator}} = definition.TimeEstimator;}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00036}00036             \}}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00037}00037             \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00038}00038             \{}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00039}00039                 \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_service_time_estimator}{ServiceTimeEstimator}} = \textcolor{keyword}{new} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_time_estimators_1_1_expert_service_time_estimator}{ExpertServiceTimeEstimator}}();}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00040}00040             \}}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00041}00041             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a44ffdc3452ac36cbf169e29a4d4af6ac}{Distances}} = definition.Distances.Select(d =>}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00042}00042             \textcolor{keyword}{new} \mbox{\hyperlink{class_common_g_i_s_1_1_time_length_distance}{TimeLengthDistance}}(d.FromId, d.ToId, d.Length, d.Time,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00043}00043                 \textcolor{keyword}{new} \mbox{\hyperlink{class_common_g_i_s_1_1_vehicle_road_restriction_properties}{VehicleRoadRestrictionProperties}}(}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00044}00044                     d.Profile.GrossVehicleWeight,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00045}00045                     d.Profile.Height,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00046}00046                     d.Profile.Width,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00047}00047                     d.Profile.EpCount,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00048}00048                     \mbox{\hyperlink{namespace_common_g_i_s}{CommonGIS}}.\mbox{\hyperlink{namespace_common_g_i_s_1_1_enums}{Enums}}.VehicleTypeRouting.StraightTruck)) as \mbox{\hyperlink{namespace_common_g_i_s}{CommonGIS}}.\mbox{\hyperlink{class_common_g_i_s_1_1_distance}{Distance}}).ToList();}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00049}00049             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a1843564a93d70eda08da289202533ac8}{ZeroHour}} = definition.BillingDates[0];}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00050}00050             var homeDepot = \textcolor{keyword}{new} \mbox{\hyperlink{class_common_g_i_s_1_1_base_location}{BaseLocation}}(definition.HomeDepots[0].Id, definition.HomeDepots[0].Lng, definition.HomeDepots[0].Lat);}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00051}00051             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a770080330be94b27be0b1d27c47d146c}{HomeDepot}} = homeDepot;}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00052}00052             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a2a8a53479e18a3e75b272bdf0ec55ed1}{Vehicles}} = \textcolor{keyword}{new} List<\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer}{VRPTWOptimizer}}.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_vehicle}{Vehicle}}>();}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00053}00053             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a2a8a53479e18a3e75b272bdf0ec55ed1}{Vehicles}}.AddRange(definition.Vehicles.Select(v => \textcolor{keyword}{new} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_vehicle_d_t_o}{VehicleDTO}}(}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00054}00054                 \textcolor{keywordtype}{id}: v.Id,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00055}00055                 capacity: \textcolor{keyword}{new} \textcolor{keywordtype}{double}[] \{ v.EpCapacity, v.WeightCapacity \},}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00056}00056                 specialProperties: \textcolor{keyword}{new} \textcolor{keywordtype}{int}[0],}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00057}00057                 capacityAggregationType: \textcolor{keyword}{new} Enums.Aggregation[] \{ Enums.Aggregation.Sum, Enums.Aggregation.Sum \},}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00058}00058                 initialLocation: homeDepot,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00059}00059                 availabilityStart: (v.AvailabilityStart -\/ \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a1843564a93d70eda08da289202533ac8}{ZeroHour}}).TotalSeconds,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00060}00060                 finalLocation: homeDepot,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00061}00061                 availabilityEnd: (v.AvailabilityEnd -\/ \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a1843564a93d70eda08da289202533ac8}{ZeroHour}}).TotalSeconds,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00062}00062                 maxRideTime: \textcolor{keywordtype}{double}.MaxValue,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00063}00063                 roadProperties: \textcolor{keyword}{new} \mbox{\hyperlink{class_common_g_i_s_1_1_vehicle_road_restriction_properties}{VehicleRoadRestrictionProperties}}(}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00064}00064                     grossVehicleWeight: v.GrossVehicleWeight,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00065}00065                     height: 0,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00066}00066                     width: 0,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00067}00067                     epCount: v.EpCapacity,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00068}00068                     vehicleType: \mbox{\hyperlink{namespace_common_g_i_s}{CommonGIS}}.\mbox{\hyperlink{namespace_common_g_i_s_1_1_enums}{Enums}}.VehicleTypeRouting.StraightTruck),}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00069}00069                 type: \mbox{\hyperlink{namespace_common_g_i_s}{CommonGIS}}.\mbox{\hyperlink{namespace_common_g_i_s_1_1_enums}{Enums}}.VehicleType.StraightTruck,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00070}00070                 vehicleCostPerDistanceUnit: v.CostPerDistance / 1000.0,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00071}00071                 vehicleCostPerTimeUnit: v.CostPerTime / 3600.0,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00072}00072                 vehicleCostPerUsage: 0.0,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00073}00073                 ownerID: v.OwnerType,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00074}00074                 vehicleFlatCostForShortRouteLength: v.CostPerUsage,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00075}00075                 vehicleMaxRouteLengthForFlatCost: v.CostPerUsage > 0 ? 100000.0 : 0.0}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00076}00076                 )));}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00077}00077 }
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00078}00078             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_af9cdde33908967676a39ca6ff401f2f7}{LocationsDictionary}} = \textcolor{keyword}{new} Dictionary<string, \mbox{\hyperlink{namespace_common_g_i_s}{CommonGIS}}.\mbox{\hyperlink{class_common_g_i_s_1_1_location}{Location}}>();}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00079}00079             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_af9cdde33908967676a39ca6ff401f2f7}{LocationsDictionary}}.Add(\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a770080330be94b27be0b1d27c47d146c}{HomeDepot}}.\mbox{\hyperlink{class_common_g_i_s_1_1_location_aa6d57fbce06f9491a85aac4e0ac69870}{Id}}, \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a770080330be94b27be0b1d27c47d146c}{HomeDepot}});}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00080}00080             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a5734e74eaa81c54243c1055e05acb496}{Requests}} = \textcolor{keyword}{new} List<\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer}{VRPTWOptimizer}}.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_transport_request}{TransportRequest}}>();}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00081}00081             \textcolor{keywordflow}{foreach} (var request \textcolor{keywordflow}{in} definition.TransportRequests)}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00082}00082             \{}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00083}00083                 var location = \textcolor{keyword}{new} \mbox{\hyperlink{class_common_g_i_s_1_1_base_location}{BaseLocation}}(request.EndLocation.Id, request.EndLocation.Lng, request.EndLocation.Lat);}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00084}00084                 \textcolor{keywordflow}{if} (!\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_af9cdde33908967676a39ca6ff401f2f7}{LocationsDictionary}}.ContainsKey(location.Id))}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00085}00085                 \{}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00086}00086                     \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_af9cdde33908967676a39ca6ff401f2f7}{LocationsDictionary}}.Add(location.Id, location);}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00087}00087                 \}}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00088}00088                 var unwantedLocation = \textcolor{keyword}{new} \textcolor{keywordtype}{string}[]}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00089}00089                 \{}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00090}00090                     \textcolor{stringliteral}{"{}Barbora sp z o.o. Gdańsk Logistics Centre"{}},}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00091}00091                 \};}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00092}00092                 \textcolor{comment}{//HACK removing Barbora and others}}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00093}00093                 \textcolor{keywordflow}{if} (!unwantedLocation.Contains(location.Id))}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00094}00094                 \{}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00095}00095                     \mbox{\hyperlink{namespace_v_r_p_t_w_optimizer}{VRPTWOptimizer}}.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_transport_request}{TransportRequest}} transportRequest = \textcolor{keyword}{new} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_request_d_t_o}{RequestDTO}}(}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00096}00096                         \textcolor{keywordtype}{id}: request.Ids[0],}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00097}00097                         size: \textcolor{keyword}{new} \textcolor{keywordtype}{double}[] \{ request.Ep, request.Mass \},}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00098}00098                         necessaryVehicleSpecialProperties: \textcolor{keyword}{new} \textcolor{keywordtype}{int}[0],}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00099}00099                         packageCount: (\textcolor{keywordtype}{int})Math.Ceiling(request.Ep),}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00100}00100                         packageCountForImediateRetrieval: (\textcolor{keywordtype}{int})request.EpMeat,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00101}00101                         pickupLocation: homeDepot,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00102}00102                         pickupAvailableTimeWindowStart: \textcolor{keywordtype}{double}.MinValue,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00103}00103                         pickupPreferedTimeWindowStart: \textcolor{keywordtype}{double}.MinValue,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00104}00104                         pickupPreferedTimeWindowEnd: \textcolor{keywordtype}{double}.MaxValue,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00105}00105                         pickupAvailableTimeWindowEnd: \textcolor{keywordtype}{double}.MaxValue,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00106}00106                         deliveryLocation: location,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00107}00107                         deliveryAvailableTimeWindowStart: \textcolor{keywordtype}{double}.MinValue,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00108}00108                         deliveryPreferedTimeWindowStart: (request.TimeWindowStart -\/ \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a1843564a93d70eda08da289202533ac8}{ZeroHour}}).TotalSeconds,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00109}00109                         deliveryPreferedTimeWindowEnd: (request.TimeWindowEnd -\/ \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a1843564a93d70eda08da289202533ac8}{ZeroHour}}).TotalSeconds,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00110}00110                         deliveryAvailableTimeWindowEnd: \textcolor{keywordtype}{double}.MaxValue,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00111}00111                         type: Enums.RequestType.GoodsDistribution,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00112}00112                         cargoTypes: \textcolor{keyword}{new} \textcolor{keywordtype}{int}[] \{ 1 \},}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00113}00113                         maxVehicleSize: \textcolor{keyword}{new} \mbox{\hyperlink{class_common_g_i_s_1_1_vehicle_road_restriction_properties}{VehicleRoadRestrictionProperties}}(}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00114}00114                             grossVehicleWeight: \mbox{\hyperlink{class_common_g_i_s_1_1_vehicle_road_restriction_properties}{VehicleRoadRestrictionProperties}}.\mbox{\hyperlink{class_common_g_i_s_1_1_vehicle_road_restriction_properties_a39050bdb51269a4ca5897e8e0bfd8dae}{MaxGrossVehicleWeight}},}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00115}00115                             height: \mbox{\hyperlink{class_common_g_i_s_1_1_vehicle_road_restriction_properties}{VehicleRoadRestrictionProperties}}.\mbox{\hyperlink{class_common_g_i_s_1_1_vehicle_road_restriction_properties_a5f80468b3a0c75749f5e852e307ad6eb}{MaxHeight}},}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00116}00116                             width: \mbox{\hyperlink{class_common_g_i_s_1_1_vehicle_road_restriction_properties}{VehicleRoadRestrictionProperties}}.\mbox{\hyperlink{class_common_g_i_s_1_1_vehicle_road_restriction_properties_ab9ed1fef8b170b8a02d5fd2ba734e9ab}{MaxWidth}},}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00117}00117                             epCount: request.DrivewaySizeInEp,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00118}00118                             vehicleType: \mbox{\hyperlink{namespace_common_g_i_s}{CommonGIS}}.\mbox{\hyperlink{namespace_common_g_i_s_1_1_enums}{Enums}}.VehicleTypeRouting.TractorWithTrailer}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00119}00119                             ),}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00120}00120                         restrictedGoodsTypes: \textcolor{keyword}{new} \textcolor{keywordtype}{int}[0],}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00121}00121                         mutuallyExclusiveRequestsIdTimeBufferDict: \textcolor{keyword}{new} Dictionary<int, double>(),}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00122}00122                         revenueValue: 0.0,}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00123}00123                         name: \textcolor{keywordtype}{string}.Join(\textcolor{charliteral}{','}, request.Ids.Select(\textcolor{keywordtype}{id} => \textcolor{keywordtype}{id}.ToString()))}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00124}00124                         );}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00125}00125                     \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_a5734e74eaa81c54243c1055e05acb496}{Requests}}.Add(transportRequest);}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00126}00126                 \}}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00127}00127             \}}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00128}00128         \}}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00129}00129 }
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00130}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_af1cdc2a1e1d63f455255e6c1f9f582be}{00130}}         \textcolor{keyword}{public} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_vrp_definition_1_1_v_r_p_definition_via_tms_d_t_o_provider_af1cdc2a1e1d63f455255e6c1f9f582be}{LoadData}}(DateTime billingDate, \textcolor{keywordtype}{string} homeDepotId)}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00131}00131         \{}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00132}00132             \textcolor{keywordflow}{throw} \textcolor{keyword}{new} NotImplementedException();}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00133}00133         \}}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00134}00134     \}}
\DoxyCodeLine{\Hypertarget{_v_r_p_definition_via_tms_d_t_o_provider_8cs_source_l00135}00135 \}}

\end{DoxyCode}
