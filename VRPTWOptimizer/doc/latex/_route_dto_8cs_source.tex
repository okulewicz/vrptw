\hypertarget{_route_dto_8cs_source}{}\doxysection{Route\+Dto.\+cs}
\label{_route_dto_8cs_source}\index{RouteDto.cs@{RouteDto.cs}}
\mbox{\hyperlink{_route_dto_8cs}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00001}00001 \textcolor{keyword}{using} \mbox{\hyperlink{namespace_common_g_i_s}{CommonGIS}};}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00002}00002 \textcolor{keyword}{using} \mbox{\hyperlink{namespace_common_g_i_s}{CommonGIS}}.\mbox{\hyperlink{namespace_common_g_i_s_1_1_interfaces}{Interfaces}};}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00003}00003 \textcolor{keyword}{using} System;}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00004}00004 \textcolor{keyword}{using} System.Collections.Generic;}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00005}00005 \textcolor{keyword}{using} System.Linq;}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00006}00006 \textcolor{keyword}{using} \mbox{\hyperlink{namespace_v_r_p_t_w_optimizer}{VRPTWOptimizer}};}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00007}00007 \textcolor{keyword}{using} \mbox{\hyperlink{namespace_v_r_p_t_w_optimizer}{VRPTWOptimizer}}.\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_interfaces}{Interfaces}};}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00008}00008 }
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00009}00009 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespace_v_r_p_t_w_optimizer_1_1_utils_1_1_model}{VRPTWOptimizer.Utils.Model}}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00010}00010 \{}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00011}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto}{00011}}     \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto}{RouteDto}} : \mbox{\hyperlink{interface_v_r_p_t_w_optimizer_1_1_interfaces_1_1_i_route}{IRoute}}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00012}00012     \{}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00013}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a4d280698412c8fd1a82bec876f44d9e9}{00013}}         \textcolor{keyword}{public} List<double> \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a4d280698412c8fd1a82bec876f44d9e9}{ArrivalTimes}} \{ \textcolor{keyword}{get}; \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00014}00014 }
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00015}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a45a121ada0e6202b8ee5d00490163aac}{00015}}         \textcolor{keyword}{public} List<double> \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a45a121ada0e6202b8ee5d00490163aac}{DepartureTimes}} \{ \textcolor{keyword}{get}; \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00016}00016 }
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00017}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a222e7def0c0776fcaa415f016b4423bf}{00017}}         \textcolor{keyword}{public} List<Distance> \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a222e7def0c0776fcaa415f016b4423bf}{Distances}} \{ \textcolor{keyword}{get}; \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00018}00018 }
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00019}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_ad15c7f0d7bf6a9e0190fa9e3e5634c39}{00019}}         \textcolor{keyword}{public} \textcolor{keywordtype}{double} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_ad15c7f0d7bf6a9e0190fa9e3e5634c39}{Length}} => \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a222e7def0c0776fcaa415f016b4423bf}{Distances}}.Sum(d => d.Length);}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00020}00020 }
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00021}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a11c40c4c6ef7ab361a0c4ef11f31ae0f}{00021}}         \textcolor{keyword}{public} List<List<TransportRequest>> \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a11c40c4c6ef7ab361a0c4ef11f31ae0f}{LoadedRequests}} \{ \textcolor{keyword}{get}; \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00022}00022 }
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00023}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a4fb459b5b6d659969f2de165f1157b8d}{00023}}         \textcolor{keyword}{public} \textcolor{keywordtype}{double} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a4fb459b5b6d659969f2de165f1157b8d}{MaxDelay}}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00024}00024         \{}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00025}00025             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00026}00026             \{}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00027}00027                 \textcolor{keywordtype}{double} delay = 0.0;}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00028}00028                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a4d280698412c8fd1a82bec876f44d9e9}{ArrivalTimes}}.Count; i++)}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00029}00029                 \{}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00030}00030                     delay = Math.Max(\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a4d280698412c8fd1a82bec876f44d9e9}{ArrivalTimes}}[i] -\/ \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a1dc3751b06ab4de5b1b760933ada8317}{TimeWindowEnd}}[i], delay);}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00031}00031                 \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00032}00032                 \textcolor{keywordflow}{return} delay;}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00033}00033             \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00034}00034         \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00035}00035 }
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00036}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a1dc3751b06ab4de5b1b760933ada8317}{00036}}         \textcolor{keyword}{public} List<double> \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a1dc3751b06ab4de5b1b760933ada8317}{TimeWindowEnd}} \{ \textcolor{keyword}{get}; \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00037}00037 }
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00038}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a0064833acf90e0b4826f7347175a3ac5}{00038}}         \textcolor{keyword}{public} List<double> \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a0064833acf90e0b4826f7347175a3ac5}{TimeWindowStart}} \{ \textcolor{keyword}{get}; \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00039}00039 }
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00040}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_ad13f5af7065a2d3c63d14154f76d31ac}{00040}}         \textcolor{keyword}{public} \textcolor{keywordtype}{double} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_ad13f5af7065a2d3c63d14154f76d31ac}{TotalDelay}}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00041}00041         \{}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00042}00042             \textcolor{keyword}{get}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00043}00043             \{}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00044}00044                 \textcolor{keywordtype}{double} delay = 0.0;}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00045}00045                 \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a4d280698412c8fd1a82bec876f44d9e9}{ArrivalTimes}}.Count; i++)}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00046}00046                 \{}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00047}00047                     delay += Math.Max(\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a4d280698412c8fd1a82bec876f44d9e9}{ArrivalTimes}}[i] -\/ \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a1dc3751b06ab4de5b1b760933ada8317}{TimeWindowEnd}}[i], 0);}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00048}00048                 \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00049}00049                 \textcolor{keywordflow}{return} delay;}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00050}00050             \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00051}00051         \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00052}00052 }
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00053}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a1ff8e05cd2986719a2d05d144c59395c}{00053}}         \textcolor{keyword}{public} \textcolor{keywordtype}{double} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a1ff8e05cd2986719a2d05d144c59395c}{TravelTime}} => \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a222e7def0c0776fcaa415f016b4423bf}{Distances}}.Sum(d => d.Time);}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00054}00054 }
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00055}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a21c354eadf2fc2c087f6b791f7efe9c6}{00055}}         \textcolor{keyword}{public} List<List<TransportRequest>> \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a21c354eadf2fc2c087f6b791f7efe9c6}{UnloadedRequests}} \{ \textcolor{keyword}{get}; \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00056}00056 }
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00057}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a48331c9c85c852bfebad558c88d883f3}{00057}}         \textcolor{keyword}{public} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_vehicle}{Vehicle}} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_vehicle}{Vehicle}} \{ \textcolor{keyword}{get}; \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00058}00058 }
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00059}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_ae409e110c42b8e66bf983ea852f04a4f}{00059}}         \textcolor{keyword}{public} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_driver}{Driver}} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_ae409e110c42b8e66bf983ea852f04a4f}{VehicleDriver}} \{ \textcolor{keyword}{get}; \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00060}00060 }
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00061}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_af5b092890d441177782ae6db9d0fa736}{00061}}         \textcolor{keyword}{public} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_vehicle}{Vehicle}} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_af5b092890d441177782ae6db9d0fa736}{VehicleTractor}} \{ \textcolor{keyword}{get}; \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00062}00062 }
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00063}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a685c8773f5d2708d4c2a7a593e8f038d}{00063}}         \textcolor{keyword}{public} List<Location> \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a685c8773f5d2708d4c2a7a593e8f038d}{VisitedLocations}} \{ \textcolor{keyword}{get}; \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00064}00064 }
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00065}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_add200f2569c9634be83a17286b9d4bc9}{00065}}         \textcolor{keyword}{public} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_add200f2569c9634be83a17286b9d4bc9}{RouteDto}}(List<double> arrivalTimes, List<double> departureTimes, List<Distance> distances, List<List<TransportRequest>> loadedRequests, List<List<TransportRequest>> unloadedRequests, List<double> timeWindowStart, List<double> timeWindowEnd, \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_vehicle}{Vehicle}} vehicle, \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_driver}{Driver}} vehicleDriver, \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_vehicle}{Vehicle}} vehicleTractor, List<Location> visitedLocations)}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00066}00066         \{}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00067}00067             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a4d280698412c8fd1a82bec876f44d9e9}{ArrivalTimes}} = arrivalTimes;}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00068}00068             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a45a121ada0e6202b8ee5d00490163aac}{DepartureTimes}} = departureTimes;}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00069}00069             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a222e7def0c0776fcaa415f016b4423bf}{Distances}} = distances;}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00070}00070             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a11c40c4c6ef7ab361a0c4ef11f31ae0f}{LoadedRequests}} = loadedRequests;}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00071}00071             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a21c354eadf2fc2c087f6b791f7efe9c6}{UnloadedRequests}} = unloadedRequests;}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00072}00072             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a0064833acf90e0b4826f7347175a3ac5}{TimeWindowStart}} = timeWindowStart;}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00073}00073             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a1dc3751b06ab4de5b1b760933ada8317}{TimeWindowEnd}} = timeWindowEnd;}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00074}00074             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_vehicle}{Vehicle}} = vehicle;}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00075}00075             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_ae409e110c42b8e66bf983ea852f04a4f}{VehicleDriver}} = vehicleDriver;}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00076}00076             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_af5b092890d441177782ae6db9d0fa736}{VehicleTractor}} = vehicleTractor;}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00077}00077             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a685c8773f5d2708d4c2a7a593e8f038d}{VisitedLocations}} = visitedLocations;}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00078}00078         \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00079}00079 }
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00080}\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a3acc840a9eda4a267c66ddba5f2cd5f3}{00080}}         \textcolor{keyword}{public} \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a3acc840a9eda4a267c66ddba5f2cd5f3}{RouteDto}}(\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_transport}{Transport}} definitionDto, List<TransportRequest> requests, List<Vehicle> vehicles, List<Driver> drivers, \mbox{\hyperlink{interface_common_g_i_s_1_1_interfaces_1_1_i_distance_provider}{IDistanceProvider}} distanceProvider)}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00081}00081         \{}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00082}00082             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_vehicle}{Vehicle}} = vehicles.FirstOrDefault(v => v.Id == definitionDto.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_transport_a1d815b0fef30ee89a0a00485ec50f833}{TrailerTruckId}});}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00083}00083             \textcolor{keywordflow}{if} (definitionDto.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_transport_a4315524638429841c949cb9618f8e836}{TractorId}} != -\/1 \&\& definitionDto.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_transport_a4315524638429841c949cb9618f8e836}{TractorId}} != 0)}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00084}00084             \{}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00085}00085                 \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_af5b092890d441177782ae6db9d0fa736}{VehicleTractor}} = vehicles.FirstOrDefault(v => v.Id == definitionDto.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_transport_a4315524638429841c949cb9618f8e836}{TractorId}});}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00086}00086             \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00087}00087             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a4d280698412c8fd1a82bec876f44d9e9}{ArrivalTimes}} = definitionDto.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_transport_a16760ec217133e6864da6588670bdc48}{Schedule}}.Select(s => s.ArrivalTime).ToList();}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00088}00088             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a45a121ada0e6202b8ee5d00490163aac}{DepartureTimes}} = definitionDto.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_transport_a16760ec217133e6864da6588670bdc48}{Schedule}}.Select(s => s.DepartureTime).ToList();}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00089}00089             Dictionary<string, Location> locationsDict = FillInLocationsDict(requests);}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00090}00090             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a685c8773f5d2708d4c2a7a593e8f038d}{VisitedLocations}} = \textcolor{keyword}{new}();}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00091}00091             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a222e7def0c0776fcaa415f016b4423bf}{Distances}} = \textcolor{keyword}{new}();}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00092}00092             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < definitionDto.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_transport_a16760ec217133e6864da6588670bdc48}{Schedule}}.Count; i++)}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00093}00093             \{}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00094}00094                 \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a685c8773f5d2708d4c2a7a593e8f038d}{VisitedLocations}}.Add(locationsDict[definitionDto.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_transport_a16760ec217133e6864da6588670bdc48}{Schedule}}[i].LocationId]);}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00095}00095                 \textcolor{keywordflow}{if} (i > 0)}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00096}00096                 \{}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00097}00097                     \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a222e7def0c0776fcaa415f016b4423bf}{Distances}}.Add(}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00098}00098                         distanceProvider.\mbox{\hyperlink{interface_common_g_i_s_1_1_interfaces_1_1_i_distance_provider_a91899eab2f7298972955f9144301b2ed}{GetDistance}}(}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00099}00099                             locationsDict[definitionDto.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_transport_a16760ec217133e6864da6588670bdc48}{Schedule}}[i -\/ 1].LocationId],}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00100}00100                             locationsDict[definitionDto.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_transport_a16760ec217133e6864da6588670bdc48}{Schedule}}[i].LocationId],}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00101}00101                             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_vehicle}{Vehicle}}.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_vehicle_aa3387b7a33667f5cf2cbe7a0eedb36f1}{RoadProperties}})}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00102}00102                         );}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00103}00103                 \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00104}00104             \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00105}00105             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a11c40c4c6ef7ab361a0c4ef11f31ae0f}{LoadedRequests}} = definitionDto.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_transport_a16760ec217133e6864da6588670bdc48}{Schedule}}.Select(s => s.LoadedRequestsIds.Select(\textcolor{keywordtype}{id} => requests.First(rq => rq.Id == \textcolor{keywordtype}{id})).ToList()).ToList();}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00106}00106             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a21c354eadf2fc2c087f6b791f7efe9c6}{UnloadedRequests}} = definitionDto.\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_transport_a16760ec217133e6864da6588670bdc48}{Schedule}}.Select(s => s.UnloadedRequestsIds.Select(\textcolor{keywordtype}{id} => requests.First(rq => rq.Id == \textcolor{keywordtype}{id})).ToList()).ToList();}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00107}00107             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a0064833acf90e0b4826f7347175a3ac5}{TimeWindowStart}} = \textcolor{keyword}{new}();}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00108}00108             \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a1dc3751b06ab4de5b1b760933ada8317}{TimeWindowEnd}} = \textcolor{keyword}{new}();}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00109}00109             \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a685c8773f5d2708d4c2a7a593e8f038d}{VisitedLocations}}.Count; i++)}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00110}00110             \{}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00111}00111                 \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a0064833acf90e0b4826f7347175a3ac5}{TimeWindowStart}}.Add(\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a11c40c4c6ef7ab361a0c4ef11f31ae0f}{LoadedRequests}}[i]}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00112}00112                     .Select(rq => rq.PickupPreferedTimeWindowStart)}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00113}00113                     .Concat(\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a21c354eadf2fc2c087f6b791f7efe9c6}{UnloadedRequests}}[i]}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00114}00114                     .Select(rq => rq.DeliveryPreferedTimeWindowStart))}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00115}00115                     .Concat(\textcolor{keyword}{new} List<double>() \{ \textcolor{keywordtype}{double}.MinValue \})}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00116}00116                     .Max());}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00117}00117                 \mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a1dc3751b06ab4de5b1b760933ada8317}{TimeWindowEnd}}.Add(\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a11c40c4c6ef7ab361a0c4ef11f31ae0f}{LoadedRequests}}[i]}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00118}00118                     .Select(rq => rq.PickupPreferedTimeWindowEnd)}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00119}00119                     .Concat(\mbox{\hyperlink{class_v_r_p_t_w_optimizer_1_1_utils_1_1_model_1_1_route_dto_a21c354eadf2fc2c087f6b791f7efe9c6}{UnloadedRequests}}[i]}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00120}00120                     .Select(rq => rq.DeliveryPreferedTimeWindowEnd))}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00121}00121                     .Concat(\textcolor{keyword}{new} List<double>() \{ \textcolor{keywordtype}{double}.MaxValue \})}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00122}00122                     .Min());}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00123}00123             \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00124}00124         \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00125}00125 }
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00126}00126         \textcolor{keyword}{private} \textcolor{keyword}{static} \textcolor{keywordtype}{void} AddLocationToDictIfNewLocation(Dictionary<string, Location> locationsDict, \mbox{\hyperlink{class_common_g_i_s_1_1_location}{Location}} location)}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00127}00127         \{}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00128}00128             \textcolor{keywordflow}{if} (!locationsDict.ContainsKey(location.\mbox{\hyperlink{class_common_g_i_s_1_1_location_aa6d57fbce06f9491a85aac4e0ac69870}{Id}}))}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00129}00129             \{}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00130}00130                 locationsDict.Add(location.\mbox{\hyperlink{class_common_g_i_s_1_1_location_aa6d57fbce06f9491a85aac4e0ac69870}{Id}}, location);}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00131}00131             \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00132}00132         \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00133}00133 }
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00134}00134         \textcolor{keyword}{private} \textcolor{keyword}{static} Dictionary<string, Location> FillInLocationsDict(List<TransportRequest> requests)}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00135}00135         \{}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00136}00136             var locationsDict = \textcolor{keyword}{new} Dictionary<string, Location>();}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00137}00137             \textcolor{keywordflow}{foreach} (var request \textcolor{keywordflow}{in} requests)}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00138}00138             \{}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00139}00139                 AddLocationToDictIfNewLocation(locationsDict, request.PickupLocation);}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00140}00140                 AddLocationToDictIfNewLocation(locationsDict, request.DeliveryLocation);}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00141}00141             \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00142}00142 }
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00143}00143             \textcolor{keywordflow}{return} locationsDict;}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00144}00144         \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00145}00145     \}}
\DoxyCodeLine{\Hypertarget{_route_dto_8cs_source_l00146}00146 \}}

\end{DoxyCode}
